{% extends 'base.html.twig' %}

{% block content %}

    <h1>Messages d'alerte</h1>

     {{ form(form) }}

     <hr>

    {% for alert in alerts %}      

     <a href="{{ path('alert_show', { 'id': alert.id }) }}">     
    

<form method="post" action="{{ path('alert_delete', {'id': alert.id}) }}" onsubmit="return confirm('Êtes vous sûr de vouloir supprimer ce document?');">
    <input type="hidden" name="_method" value="DELETE">
    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ alert.id) }}">
    <button class="btn">Supprimer</button>
</form>

<form method="post" action="{{ path('alert_update', {'id': alert.id}) }}">
    <input type="hidden" name="_method" value="UPDATE">
    <input type="hidden" name="_token" value="{{ csrf_token('update' ~ alert.id) }}">
    <button class="btn">Modifier</button>
</form>

    <h2>{{ alert.title }}</h2>
    <p>{{ alert.content }}</p><hr>

    </a>
   
    {% endfor %}

{% endblock %}
